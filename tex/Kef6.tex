\chapter{Ποσοστά}
Στον διπλανό πίνακα φαίνεται το σύνολο των
πολιτών που ψήφισαν στα χωριά
Α, Β, Γ και Δ και οι ψήφοι που πήραν οι
αντίστοιχοι πρόεδροι που εκλέχτηκαν.
Βρες, ποιος από τους προέδρους που
εκλέχτηκαν, είναι ο πιο δημοφιλής.

\begin{tabular}{ccc}
Κοινότητα & Ψηφίσαντες & Ο πρόεδρος ψηφίστηκε από\\
A& 585& 354\\
B& 3.460& 1.802\\
Γ& 456&312\\
Δ&1.295&823\\
\end{tabular}   

\begin{lstlisting}
>>> 354/585
0.6051282051282051
\end{lstlisting}
Όμως για να το κάνουμε σαν ποσοστό \% τότε θα πρέπει να το πολλαπλασιάσουμε με το 100 οπότε:
\begin{lstlisting}
>>> 354/585*100
60.51282051282051
\end{lstlisting}
Επίσης καλό είναι η στρογγυλοποίηση να γίνει στο δεύτερο δεκαδικό ψηφίο. Οπότε 
\begin{lstlisting}
>>> round(354/585*100,2)
60.51
\end{lstlisting}
Μπορούμε να φτιάξουμε μια μικρή συνάρτηση που να τυπώνει σε ποσοστό έναν αριθμό ως εξής:
\begin{lstlisting}
def pososto(x):
    print(str(round(x*100,2))+'%')

pososto(354/585)
\end{lstlisting}

Που  δίνει το αποτέλεσμα 60.51\%
Οπότε έχουμε
\begin{lstlisting}
>>> pososto(354/585)
60.51%
>>> pososto(1802/3460)
52.08%
>>> pososto(312/456)
68.42%
>>> pososto(823/1295)
63.55%
\end{lstlisting}

Ο πιο δημοφιλής είναι ο Γ που έχει 68.42\%.
Αν θέλουμε όμως η Python να λύσει το πρόβλημα τότε μπορούμε να φτιάξουμε το εξής:
\begin{lstlisting}
class proedros():
    def __init__(self,onoma,psifoi,katoikoi):
        self.onoma = onoma
        self.psifoi = psifoi
        self.katoikoi = katoikoi
    def pososto(self):
        return(round(self.psifoi/self.katoikoi*100,2))

A = proedros('A',354,585)
B = proedros('B',1802,3460)
C = proedros('C',312,456)
D = proedros('D',823,1295)

M = max([A,B,C,D],key=lambda x:x.pososto());
print(M.onoma)
\end{lstlisting}

Που δίνει το αποτέλεσμα C δηλαδή Γ.

\begin{exercise}
Να γραφούν, ως ποσοστά επί τοις εκατό, τα παρακάτω κλάσματα:
(α) $\frac{4}{5}$
(β) $\frac{3}{8}$
(γ) $\frac{84}{91}$

με στρογγυλοποίηση στο εκατοστό.
\end{exercise}

Επειδή η συνάρτηση που έχουμε φτιάξει δεν προσαρμόζει την στρογγυλοποίηση μπορείς να την αλλάξεις ώστε να έχει έξτρα αυτό το δεδομένο. Μάλιστα μπορείς να δηλώσεις στην Python ότι αν δεν γράψεις αυτό το στοιχέιο θα είναι 0.
\begin{lstlisting}
def pososto(x,strog = 2):
    print(str(round(x*100,strog))+'%')

pososto(4/5,strog=0)
pososto(3/8,strog=0)
pososto(84/91,strog=0)
\end{lstlisting}

Έχουμε το αποτέλεσμα:
\begin{lstlisting}
80.0%
38.0%
92.0%
\end{lstlisting}
Μπορείς να αλλάξεις τη συνάρτηση ώστε να κάνει το αποτέλεσμα ακέραιο ειδικά αν το strog είναι 0.
\begin{lstlisting}
def pososto(x,strog = 2):
    if strog == 0:
        print(str(int(round(x*100),0))+'%')
    else:
        print(round(int(x*100),strog)+'%')

pososto(4/5,strog=0)
pososto(3/8,strog=0)
pososto(84/91,strog=0)
\end{lstlisting}

Τότε το αποτέλεσμα θα είναι:
\begin{lstlisting}
80%
37%<--!!!!!!!!!!!!!
92%
\end{lstlisting}
\begin{exercise}
\sel{81}
Να γραφούν, ως κλάσματα, τα ακόλουθα ποσοστά: (α) 12\%, (β) 73\%, (γ) 32,5\%.
\end{exercise}

\begin{lstlisting}
from fractions import Fraction
strx = input('Ποσοστό:')
if strx[-1] == '%':
    strx=strx[:-1]

fx = float(strx)
denom = 100
while int(fx) != fx:
    fx *= 10
    denom *= 10
fx = int(fx)
print(Fraction(fx,denom))
\end{lstlisting}
\begin{lstlisting}
Ποσοστό:12
3/25
Ποσοστό:73
73/100
Ποσοστό:32.5
13/40
\end{lstlisting}
\begin{exercise}
\sel{81}
Ποια θα είναι η τιμή πώλησης ενός πουλόβερ, αξίας 150€, με επιβάρυνση Φ.Π.Α. 19\%;
\end{exercise}
\begin{lstlisting}
>>> 150 + 150*19/100
178.5
\end{lstlisting}
\begin{exercise}
\sel[1]{81}
Γράψε   ως  ποσοστά επί τοις    εκατό,  τα  κλάσματα:   

(α)  $\frac{1}{5}$ , (β)     $\frac{3}{2}$ , (γ)    $\frac{1}{4}$ , (δ) $\frac{3}{4}$,  (ε) $\frac{3}{5}$
\end{exercise}

\begin{lstlisting}
>>> pososto(1/5)
20.0%
>>> pososto(3/2)
150.0%
>>> pososto(1/4)
25.0%
>>> pososto(3/4)
75.0%
>>> pososto(3/5)
60.0%
\end{lstlisting}
\begin{exercise}
\sel[2]{81}
Να  μετατρέψεις σε  ποσοστά επί τοις    εκατό,  τους    δεκαδικούς  αριθμούς:
(α) 0,52    ,           (β) 3,41    ,           (γ) 0,19    ,           (δ) 0,03    ,           (ε) 0,07.
\end{exercise}
\begin{lstlisting}
>>> 0.52*100
52
>>> 3.41*100
341
>>> 0.19*100
19
>>> 0.03*100
3
>>> 0.07*100
7
\end{lstlisting}
Άρα 52\%, 341\%, 19\%, 3\%, 7\%.
\begin{exercise}
\sel[3]{81}
Να  μετατρέψεις σε  δεκαδικά    κλάσματα    τα  ποσοστά:    (α) 15\%,    (β)7\%,  (γ)48\%, (δ) 50\%.    Στη 
συνέχεια,   απλοποίησε  τα  δεκαδικά    κλάσματα,   έως ότου    φτάσεις σε  ανάγωγο κλάσμα.
\end{exercise}
Θα μετατρέψουμε τον προηγούμενο κώδικα σε συνάρτηση:
\begin{lstlisting}
def posostoseklasma(fx):
    fx = float(fx)
    denom = 100
    while int(fx) != fx:
         fx *= 10
         denom *= 10
    fx = int(fx)
    return(Fraction(fx,denom))

print(posostoseklasma(15))
print(posostoseklasma(7))
print(posostoseklasma(48))
print(posostoseklasma(50))
\end{lstlisting}
Και το αποτέλεσμα είναι:
\begin{lstlisting}
3/20
7/100
12/25
1/2
\end{lstlisting}

\begin{exercise}
\sel[4]{81}
Υπολόγισε:  (α) το  10\% των 3000€,  (β) το  45\% της 1   ώρας,   (γ) το  20\% του λίτρου,
(δ) το  50\% των 500 γραμμαρίων, (ε) το  25\% του 1   κιλού.
\end{exercise}
\begin{lstlisting}
>>> 10/100*3000
300.0
\end{lstlisting}
Άρα 300€.

\begin{lstlisting}
>>> 45/100*60
27.0
\end{lstlisting}
Άρα 27 λεπτά.

\begin{lstlisting}
>>> 20/100*1000
200.0
\end{lstlisting}
Άρα 200ml

\begin{lstlisting}
>>> 50/100*500
250.0
\end{lstlisting}
Άρα 250g.

\begin{lstlisting}
>>> 25/100*1000
250.0
\end{lstlisting}
Άρα 250 γραμμάρια.

\begin{exercise}
\sel[5]{81}
Βρες     τι  ποσοστό     είναι:  (α)     τα  50€    για     τα  1.000€,  (β)     οι  30  ημέρες  για  το   1   έτος,
(γ) τα  50  στρέμματα   για τα  2.500   στρέμματα,  (δ) οι  3   παλάμες για τα  10  μέτρα.
\end{exercise}
\begin{lstlisting}
>>> 50/1000 *  100
5
\end{lstlisting}
Άρα 5\%.

\begin{lstlisting}
>>> 30/360 * 100
8.333333333333332
\end{lstlisting}
Άρα 8.33\%.

\begin{lstlisting}
>>> 50/2500 * 100
2.0
\end{lstlisting}
Άρα 2\%.

Παλάμη λέμε το δεκατόμετρο dm οπότε οι 3 παλάμες είναι 3 dm δηλαδή 30cm.
Οπότε:
\begin{lstlisting}
>>> 30 / (10*100) * 100
3
\end{lstlisting}
Άρα 3\%.

\begin{exercise}
\sel[6]{81}
Ένα  μπουκάλι    με  οινόπνευμα  παρέμεινε   ανοικτό και εξατμίστηκε το  22\% του όγκου   
του.    Το  μπουκάλι    περιείχε    αρχικά  0,610   lt. Πόσα    lt  οινοπνεύματος   εξατμίστηκαν;
\end{exercise}

\begin{lstlisting}
>>> 22*0.610 / 100
0.13419999999999999
\end{lstlisting}
Οπότε η Python δίνει μια προσέγγιση της σωστής απάντησης που είναι:
0.1342.

\begin{exercise}
Σε  ένα σημείο  της γήινης  σφαίρας,    ο   φλοιός  έχει    πάχος   50  Km, ο   
μανδύας 2.900   Km  και ο   πυρήνας 3.450   Km. (α) Να  βρεις   το  μήκος   
της ακτίνας της Γης σε  Km. (β) Να  βρεις   ποιο    ποσοστό της ακτίνας 
της Γης κατέχει ο   φλοιός, ο   μανδύας και ο   πυρήνας αντίστοιχα.
\end{exercise}
\begin{lstlisting}
x = [50,2900,3450]
print(sum(x))
for i in x:
    print(100*i/sum(x))
\end{lstlisting}
Το αποτέλεσμα του προγράμματος είναι:
\begin{lstlisting}
6400
0.78125
45.3125
53.90625
\end{lstlisting}
Οπότε το μήκος της ακτίνας της γης είναι 6400Km.
Ο φλοιός είναι το 0,78125\%, o μανδύας το 45,3125\% και ο πυρήνας το 53,90625\%.



