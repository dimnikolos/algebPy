\documentclass[b5paper,11pt,twoside,openleft]{memoir}
\usepackage[left=1in,right=1.15in,top=1.25in,bottom=1.15in]{geometry}
\usepackage{fontspec}
\usepackage{courier}
\usepackage{polyglossia}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{listingsutf8}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{xparse}

\definecolor{background}{RGB}{39, 40, 34}
\definecolor{string}{RGB}{230, 219, 116}
\definecolor{comment}{RGB}{117, 113, 94}
\definecolor{normal}{RGB}{248, 248, 242}
\definecolor{identifier}{RGB}{166, 226, 46}

\lstset{
  language=python,                			% choose the language of the code
  numbers=left,                   		% where to put the line-numbers
  stepnumber=1,                   		% the step between two line-numbers.        
  numbersep=5pt,                  		% how far the line-numbers are from the code
  numberstyle=\tiny\color{black}\ttfamily,
  backgroundcolor=\color{background},  		% choose the background color. You must add \usepackage{color}
  showspaces=false,               		% show spaces adding particular underscores
  showstringspaces=false,         		% underline spaces within strings
  showtabs=false,                 		% show tabs within strings adding particular underscores
  tabsize=4,                      		% sets default tabsize to 2 spaces
  captionpos=b,                   		% sets the caption-position to bottom
  breaklines=true,                		% sets automatic line breaking
  breakatwhitespace=true,         		% sets if automatic breaks should only happen at whitespace
  title=\lstname,                 		% show the filename of files included with \lstinputlisting;
  basicstyle=\color{normal}\ttfamily,					% sets font style for the code
  keywordstyle=\color{magenta}\ttfamily,	% sets color for keywords
  stringstyle=\color{string}\ttfamily,		% sets color for strings
  commentstyle=\color{comment}\ttfamily,	% sets color for comments
  emph={format_string, eff_ana_bf, permute, eff_ana_btr},
  emphstyle=\color{identifier}\ttfamily,
  escapeinside={(*@}{@*)}}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{exercise}[theorem]{Άσκηση}
\setmainlanguage{greek}
\setromanfont{Ubuntu}
\setsansfont{Calibri}
\setmonofont{Consolas}

%\newcommand{\sel}[1] {(Στο βιβλίο βρίσκεται στη Σελ. #1)}
\NewDocumentCommand\sel{om}{%
  \IfNoValueTF{#1}
    {(Στο βιβλίο βρίσκεται στη Σελ. #2)}%
    {(Άσκηση #1 του βιβλίου, Σελ. #2)}
}

\setlrmargins{*}{*}{1}
\checkandfixthelayout
\begin{document}
\title{%
%$A\lambda\gamma\epsilon\beta\rho y$ \\ 
Μαθηματικά Γυμνασίου με Python}

\author{}
\maketitle
%\input{Kef1.tex}
\input{Kef2.tex}
%\input{Kef3.tex}
%\input{Kef4.tex}
%\input{Kef5.tex}
%\input{Kef6.tex}
%\input{Kef7.tex}
%\input{Kef8.tex}
\end{document}